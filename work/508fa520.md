---
title: Flink实时动态规则风控项目设计书
description: Flink实时动态规则风控项目设计书
published: true
date: 2025-07-25T22:37:39.757Z
tags: 设计书
editor: markdown
dateCreated: 2025-07-25T22:37:39.757Z
---

## 需求背景

原本公司有一套基于Flink编写的实时风控系统，但是架构陈旧，所有的计算逻辑均为硬编码写死的，无法应对快速变更迭代的需求。故重构原Flink风控系统，使其可以支持动态配置规则。产生新的同一类型需求，无需停机发布，直接页面配置即可上线新需求。

## 需求场景

### 实时风控

基于业务系统上送的业务数据，根据配置好的规则进行实时计算，判断哪些用户、哪些目标触发了哪些规则。

例如：
- 羊毛党领取优惠劵
- 用户盗号异地登录
- 活动高频抽奖
- 异常刷单下单
- 超送、超卖等等

### 实时营销

与实时风控类似，几乎是一套架构模式，只是业务系统上送的数据和规则配置不同而已。都是通过运营人员提前配置的规则对业务系统上送的数据实时计算，来判断哪些用户符合哪些营销规则。

例如：
- 22岁到35岁之间浏览过3次A商品的男性用户，给他推送优惠券
- 学历本科及以上宝妈用户先做了A事情，后又连续做了两次B事情，给其推送优惠券
- 等等

## 系统架构

![](https://lbs-images.oss-cn-shanghai.aliyuncs.com/20250709092501527.png)

![](https://lbs-images.oss-cn-shanghai.aliyuncs.com/20250709092520340.png)


